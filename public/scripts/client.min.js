angular.module("securityApp",["ngRoute","ngAnimate","ngMaterial","ngSanitize"]),angular.module("securityApp").config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/views/overview.html",controller:"MainController",controllerAs:"main"}).when("/history",{templateUrl:"/views/history.html",controller:"HistoryController",controllerAs:"history"}).when("/prevention",{templateUrl:"/views/prevention.html",controller:"MainController",controllerAs:"main"}),b.html5Mode(!0)}]),angular.module("securityApp").service("dataService",["$http",function(a){var b={dataset:[],totalAffected:0},c=d3.timeParse("%m/%d/%Y");b.dataset=d3.csv("/assets/breach_report.csv",function(a){return{entity:a["Name of Covered Entity"],state:a.State,entityType:a["Covered Entity Type"],numAffected:+a["Individuals Affected"],date:c(a["Breach Submission Date"]),breachType:a["Type of Breach"],breachLocation:a["Location of Breached Information"]}},function(a){b.dataset=a,console.log(b.dataset[0].numAffected)});var d=function(){b.totalAffected=0;for(var a=0;a<b.dataset.length;a++)b.totalAffected+=b.dataset[a].numAffected};return{data:b,totalNumAffected:d}}]),angular.module("securityApp").controller("MainController",["dataService",function(a){"use strict";var b=this;b.topTen=!1,b.data=a.data}]),angular.module("securityApp").controller("HistoryController",["dataService",function(a){"use strict";var b=this;b.data=a.data,b.totalNumAffected=a.totalNumAffected,b.totalAffected=0,b.init=function(){b.totalNumAffected(),b.totalAffected=b.data.totalAffected.toLocaleString()},b.init()}]),angular.module("securityApp").controller("GraphController",["dataService",function(a){var b={top:30,right:20,bottom:30,left:50},c=600-b.left-b.right,d=500-b.top-b.bottom,e=d3.scaleTime().range([0,c]),f=d3.scaleLinear().range([d,0]),g=d3.axisTop(e),h=d3.axisLeft(f).ticks(10),i=d3.select(".graphContainer").append("svg").attr("width",c+b.left+b.right).attr("height",d+b.top+b.bottom).append("g").attr("transform","translate("+b.left+","+b.top+")"),j=d3.timeParse("%m/%d/%Y");d3.csv("/assets/breach_report.csv",function(a,b){b.forEach(function(a){a.entity=a["Name of Covered Entity"],a.state=a.State,a.entityType=a["Covered Entity Type"],a.numAffected=+a["Individuals Affected"],a.date=j(a["Breach Submission Date"]),a.breachType=a["Type of Breach"],a.breachLocation=a["Location of Breached Information"]}),e.domain(d3.extent(b,function(a){return a.date})),f.domain([500,2e4]),console.log(d3.max(b,function(a){return a.numAffected})),i.selectAll("dot").data(b).enter().append("circle").attr("r",5).attr("cx",function(a){return e(a.date)}).attr("cy",function(a){return console.log("numAffected",f(a.numAffected)),f(a.numAffected)}),i.append("g").attr("class","x axis").attr("transform","translate(0,"+d+")").call(g),i.append("g").attr("class","y axis").call(h)})}]),angular.module("securityApp").component("graph",{controller:"GraphController",controllerAs:"graph"});